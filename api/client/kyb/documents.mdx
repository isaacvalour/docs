---
title: "Upload KYB Documents"
api: "POST /v1/client/kyb/documents"
description: "Upload documents for KYB verification"
---

## Overview

Upload documents for Know Your Business (KYB) verification. This endpoint allows you to upload required business documents for client verification.

<Note>
  This endpoint requires authentication via Bearer token in the Authorization header.
</Note>

## Request

<ParamField header="Authorization" type="string" required>
  Bearer token for authentication. Format: `Bearer <access_token>`
</ParamField>

<ParamField body="client_id" type="string" required>
  Client ID to upload documents for.
</ParamField>

<ParamField body="document_type" type="string" required>
  Type of document being uploaded.
</ParamField>

<ParamField body="file" type="file" required>
  Document file to upload.
</ParamField>

<ParamField body="description" type="string">
  Optional description of the document.
</ParamField>

<ParamField body="metadata" type="object">
  Additional metadata for the document.
</ParamField>

<ParamField body="metadata.source" type="string">
  Source of the document (e.g., "client_upload", "admin_upload").
</ParamField>

<ParamField body="metadata.upload_method" type="string">
  Method used to upload the document.
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the document was uploaded successfully.
</ResponseField>

<ResponseField name="message" type="string">
  Success message.
</ResponseField>

<ResponseField name="data" type="object">
  Document upload data.
</ResponseField>

<ResponseField name="data.document_id" type="string">
  Unique document identifier.
</ResponseField>

<ResponseField name="data.client_id" type="string">
  Client ID.
</ResponseField>

<ResponseField name="data.document_type" type="string">
  Type of document uploaded.
</ResponseField>

<ResponseField name="data.filename" type="string">
  Original filename.
</ResponseField>

<ResponseField name="data.file_size" type="number">
  File size in bytes.
</ResponseField>

<ResponseField name="data.file_type" type="string">
  MIME type of the file.
</ResponseField>

<ResponseField name="data.upload_url" type="string">
  URL to access the uploaded document.
</ResponseField>

<ResponseField name="data.status" type="string">
  Document verification status.
</ResponseField>

<ResponseField name="data.uploaded_at" type="string">
  Document upload timestamp.
</ResponseField>

<ResponseField name="data.verification_notes" type="string">
  Notes from the verification process.
</ResponseField>

## Example Request

<CodeGroup>

```bash cURL
curl -X POST "https://api.railsfromthecrypt.com/v1/client/kyb/documents" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -F "client_id=client_1234567890" \
  -F "document_type=certificate_of_incorporation" \
  -F "file=@/path/to/certificate.pdf" \
  -F "description=Official certificate of incorporation" \
  -F "metadata[source]=client_upload" \
  -F "metadata[upload_method]=web"
```

```javascript JavaScript
const formData = new FormData();
formData.append('client_id', 'client_1234567890');
formData.append('document_type', 'certificate_of_incorporation');
formData.append('file', fileInput.files[0]);
formData.append('description', 'Official certificate of incorporation');
formData.append('metadata[source]', 'client_upload');
formData.append('metadata[upload_method]', 'web');

const response = await fetch('https://api.railsfromthecrypt.com/v1/client/kyb/documents', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_ACCESS_TOKEN'
  },
  body: formData
});

const data = await response.json();
console.log(data);
```

```python Python
import requests

files = {
    'file': ('certificate.pdf', open('/path/to/certificate.pdf', 'rb'), 'application/pdf')
}

data = {
    'client_id': 'client_1234567890',
    'document_type': 'certificate_of_incorporation',
    'description': 'Official certificate of incorporation',
    'metadata[source]': 'client_upload',
    'metadata[upload_method]': 'web'
}

response = requests.post(
    'https://api.railsfromthecrypt.com/v1/client/kyb/documents',
    headers={
        'Authorization': 'Bearer YOUR_ACCESS_TOKEN'
    },
    files=files,
    data=data
)

data = response.json()
print(data)
```

</CodeGroup>

## Example Response

<ResponseExample>

```json Success Response
{
  "success": true,
  "message": "Document uploaded successfully",
  "data": {
    "document_id": "doc_1234567890",
    "client_id": "client_1234567890",
    "document_type": "certificate_of_incorporation",
    "filename": "certificate.pdf",
    "file_size": 1048576,
    "file_type": "application/pdf",
    "upload_url": "https://docs.hashrails.xyz/documents/doc_1234567890",
    "status": "pending",
    "uploaded_at": "2024-01-01T12:00:00Z",
    "verification_notes": null
  }
}
```

</ResponseExample>

## Error Responses

<ResponseExample>

```json Validation Error
{
  "success": false,
  "message": "Validation failed",
  "error": {
    "code": "VALIDATION_ERROR",
    "type": "validation_error",
    "details": {
      "file": ["File is required"],
      "document_type": ["Invalid document type"],
      "file_size": ["File size exceeds maximum allowed"]
    }
  }
}
```

```json Client Not Found
{
  "success": false,
  "message": "Client not found",
  "error": {
    "code": "CLIENT_NOT_FOUND",
    "type": "not_found_error",
    "details": "The specified client does not exist"
  }
}
```

```json Unauthorized
{
  "success": false,
  "message": "Unauthorized",
  "error": {
    "code": "UNAUTHORIZED",
    "type": "authentication_error",
    "details": "Invalid or expired token"
  }
}
```

</ResponseExample>

## Status Codes

<ResponseField name="201" type="number">
  Document uploaded successfully
</ResponseField>

<ResponseField name="400" type="number">
  Bad request - validation errors
</ResponseField>

<ResponseField name="401" type="number">
  Unauthorized - invalid or expired token
</ResponseField>

<ResponseField name="404" type="number">
  Not found - client not found
</ResponseField>

<ResponseField name="413" type="number">
  Payload too large - file size exceeds limit
</ResponseField>

<ResponseField name="500" type="number">
  Internal server error
</ResponseField>

## Supported Document Types

<CardGroup cols={2}>
  <Card title="Certificate of Incorporation" icon="file">
    - **Type**: certificate_of_incorporation
    - **Required**: Yes
    - **Formats**: PDF, JPG, PNG
    - **Max Size**: 10MB
  </Card>
  <Card title="Articles of Association" icon="file">
    - **Type**: articles_of_association
    - **Required**: Yes
    - **Formats**: PDF, JPG, PNG
    - **Max Size**: 10MB
  </Card>
  <Card title="Proof of Address" icon="home">
    - **Type**: proof_of_address
    - **Required**: Yes
    - **Formats**: PDF, JPG, PNG
    - **Max Size**: 10MB
  </Card>
  <Card title="Authorized Signatory ID" icon="id-card">
    - **Type**: authorized_signatory_id
    - **Required**: Yes
    - **Formats**: PDF, JPG, PNG
    - **Max Size**: 10MB
  </Card>
  <Card title="Bank Statement" icon="university">
    - **Type**: bank_statement
    - **Required**: No
    - **Formats**: PDF, JPG, PNG
    - **Max Size**: 10MB
  </Card>
  <Card title="Business License" icon="certificate">
    - **Type**: business_license
    - **Required**: No
    - **Formats**: PDF, JPG, PNG
    - **Max Size**: 10MB
  </Card>
</CardGroup>

## Implementation Example

<CodeGroup>

```javascript JavaScript
class KYBDocumentUploader {
  constructor(apiClient) {
    this.apiClient = apiClient;
  }
  
  async uploadDocument(clientId, documentType, file, options = {}) {
    try {
      const formData = new FormData();
      formData.append('client_id', clientId);
      formData.append('document_type', documentType);
      formData.append('file', file);
      
      if (options.description) {
        formData.append('description', options.description);
      }
      
      if (options.metadata) {
        Object.keys(options.metadata).forEach(key => {
          formData.append(`metadata[${key}]`, options.metadata[key]);
        });
      }
      
      const response = await this.apiClient.post('/v1/client/kyb/documents', formData, {
        headers: {
          'Content-Type': 'multipart/form-data'
        }
      });
      
      if (response.success) {
        console.log('Document uploaded successfully:', response.data);
        return response.data;
      } else {
        throw new Error(response.message);
      }
    } catch (error) {
      console.error('Failed to upload document:', error);
      throw error;
    }
  }
  
  validateFile(file, documentType) {
    const errors = [];
    
    // Check file size (10MB limit)
    const maxSize = 10 * 1024 * 1024; // 10MB
    if (file.size > maxSize) {
      errors.push('File size exceeds 10MB limit');
    }
    
    // Check file type
    const allowedTypes = ['application/pdf', 'image/jpeg', 'image/png'];
    if (!allowedTypes.includes(file.type)) {
      errors.push('Invalid file type. Only PDF, JPG, and PNG files are allowed');
    }
    
    // Check document type
    const allowedDocumentTypes = [
      'certificate_of_incorporation',
      'articles_of_association',
      'proof_of_address',
      'authorized_signatory_id',
      'bank_statement',
      'business_license'
    ];
    
    if (!allowedDocumentTypes.includes(documentType)) {
      errors.push('Invalid document type');
    }
    
    return {
      isValid: errors.length === 0,
      errors: errors
    };
  }
  
  async uploadMultipleDocuments(clientId, documents) {
    const uploadPromises = documents.map(doc => 
      this.uploadDocument(clientId, doc.type, doc.file, {
        description: doc.description,
        metadata: doc.metadata
      })
    );
    
    try {
      const results = await Promise.all(uploadPromises);
      console.log('All documents uploaded successfully:', results);
      return results;
    } catch (error) {
      console.error('Failed to upload documents:', error);
      throw error;
    }
  }
  
  displayUploadProgress(uploadId, progress) {
    const progressElement = document.getElementById(`upload-progress-${uploadId}`);
    if (progressElement) {
      progressElement.style.width = `${progress}%`;
      progressElement.textContent = `${progress}%`;
    }
  }
  
  async uploadWithProgress(clientId, documentType, file, options = {}) {
    const uploadId = `upload_${Date.now()}`;
    
    try {
      // Create progress indicator
      this.createProgressIndicator(uploadId, file.name);
      
      const formData = new FormData();
      formData.append('client_id', clientId);
      formData.append('document_type', documentType);
      formData.append('file', file);
      
      if (options.description) {
        formData.append('description', options.description);
      }
      
      if (options.metadata) {
        Object.keys(options.metadata).forEach(key => {
          formData.append(`metadata[${key}]`, options.metadata[key]);
        });
      }
      
      const response = await this.apiClient.post('/v1/client/kyb/documents', formData, {
        headers: {
          'Content-Type': 'multipart/form-data'
        },
        onUploadProgress: (progressEvent) => {
          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);
          this.displayUploadProgress(uploadId, progress);
        }
      });
      
      if (response.success) {
        this.updateProgressIndicator(uploadId, 'success', 'Upload completed');
        return response.data;
      } else {
        throw new Error(response.message);
      }
    } catch (error) {
      this.updateProgressIndicator(uploadId, 'error', 'Upload failed');
      throw error;
    }
  }
  
  createProgressIndicator(uploadId, filename) {
    const progressContainer = document.getElementById('upload-progress-container');
    
    const progressElement = document.createElement('div');
    progressElement.className = 'upload-progress-item';
    progressElement.id = `upload-item-${uploadId}`;
    
    progressElement.innerHTML = `
      <div class="upload-info">
        <span class="filename">${filename}</span>
        <span class="status">Uploading...</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="upload-progress-${uploadId}">0%</div>
      </div>
    `;
    
    progressContainer.appendChild(progressElement);
  }
  
  updateProgressIndicator(uploadId, status, message) {
    const progressItem = document.getElementById(`upload-item-${uploadId}`);
    if (progressItem) {
      const statusElement = progressItem.querySelector('.status');
      statusElement.textContent = message;
      statusElement.className = `status ${status}`;
    }
  }
}

// Usage
const documentUploader = new KYBDocumentUploader(apiClient);

// Handle file upload
document.getElementById('document-upload-form').addEventListener('submit', async (e) => {
  e.preventDefault();
  
  const clientId = document.getElementById('client-id').value;
  const documentType = document.getElementById('document-type').value;
  const fileInput = document.getElementById('file-input');
  const description = document.getElementById('description').value;
  
  if (fileInput.files.length === 0) {
    alert('Please select a file to upload');
    return;
  }
  
  const file = fileInput.files[0];
  
  // Validate file
  const validation = documentUploader.validateFile(file, documentType);
  if (!validation.isValid) {
    alert(`Validation failed: ${validation.errors.join(', ')}`);
    return;
  }
  
  try {
    const result = await documentUploader.uploadWithProgress(clientId, documentType, file, {
      description: description,
      metadata: {
        source: 'client_upload',
        upload_method: 'web'
      }
    });
    
    console.log('Document uploaded successfully:', result);
  } catch (error) {
    console.error('Failed to upload document:', error);
  }
});
```

</CodeGroup>

## Security Considerations

<AccordionGroup>
  <Accordion title="File Security">
    - Files are encrypted in transit and at rest
    - Virus scanning on uploaded files
    - Access controls for document viewing
    - Secure file storage and backup
  </Accordion>
  <Accordion title="Document Validation">
    - File type validation
    - File size limits
    - Document format verification
    - Content validation where possible
  </Accordion>
  <Accordion title="Access Control">
    - Role-based access to documents
    - Audit trail for document access
    - Secure document sharing
    - Compliance with data protection regulations
  </Accordion>
</AccordionGroup>

## Related Endpoints

<CardGroup cols={2}>
  <Card
    title="KYB Token"
    icon="key"
    href="/api/client/kyb/token"
  >
    Get KYB verification token
  </Card>
  <Card
    title="KYB Link"
    icon="link"
    href="/api/client/kyb/link"
  >
    Get KYB verification link
  </Card>
  <Card
    title="KYB Status"
    icon="check-circle"
    href="/api/client/kyb/status"
  >
    Check KYB verification status
  </Card>
  <Card
    title="Create Client"
    icon="plus"
    href="/api/client/create"
  >
    Create a new client account
  </Card>
</CardGroup>
