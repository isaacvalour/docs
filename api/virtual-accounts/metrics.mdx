---
title: "Get Virtual Account Metrics"
api: "GET /v1/virtual-accounts/{id}/metrics"
description: "Get metrics and analytics for a virtual account"
---

## Overview

Get comprehensive metrics and analytics for a specific virtual account. This endpoint provides detailed statistics about account usage, transaction volumes, and performance metrics.

<Note>
  This endpoint requires authentication via Bearer token in the Authorization header.
</Note>

## Request

<ParamField header="Authorization" type="string" required>
  Bearer token for authentication. Format: `Bearer <access_token>`
</ParamField>

<ParamField path="id" type="string" required>
  Virtual account ID to get metrics for.
</ParamField>

<ParamField query="period" type="string">
  Time period for metrics. Possible values: "1d", "7d", "30d", "90d", "1y". Default: "30d".
</ParamField>

<ParamField query="start_date" type="string">
  Start date for custom period (ISO 8601 format).
</ParamField>

<ParamField query="end_date" type="string">
  End date for custom period (ISO 8601 format).
</ParamField>

<ParamField query="currency" type="string">
  Currency filter for metrics. Default: account currency.
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the request was successful.
</ResponseField>

<ResponseField name="data" type="object">
  Virtual account metrics data.
</ResponseField>

<ResponseField name="data.account_id" type="string">
  Virtual account ID.
</ResponseField>

<ResponseField name="data.period" type="string">
  Time period for the metrics.
</ResponseField>

<ResponseField name="data.currency" type="string">
  Currency for the metrics.
</ResponseField>

<ResponseField name="data.summary" type="object">
  Summary metrics.
</ResponseField>

<ResponseField name="data.summary.total_transactions" type="number">
  Total number of transactions.
</ResponseField>

<ResponseField name="data.summary.total_volume" type="number">
  Total transaction volume.
</ResponseField>

<ResponseField name="data.summary.successful_transactions" type="number">
  Number of successful transactions.
</ResponseField>

<ResponseField name="data.summary.failed_transactions" type="number">
  Number of failed transactions.
</ResponseField>

<ResponseField name="data.summary.success_rate" type="number">
  Success rate percentage.
</ResponseField>

<ResponseField name="data.summary.average_transaction_amount" type="number">
  Average transaction amount.
</ResponseField>

<ResponseField name="data.summary.largest_transaction" type="number">
  Largest transaction amount.
</ResponseField>

<ResponseField name="data.summary.smallest_transaction" type="number">
  Smallest transaction amount.
</ResponseField>

<ResponseField name="data.daily_metrics" type="array">
  Daily metrics breakdown.
</ResponseField>

<ResponseField name="data.daily_metrics[].date" type="string">
  Date for the metrics.
</ResponseField>

<ResponseField name="data.daily_metrics[].transactions" type="number">
  Number of transactions on this date.
</ResponseField>

<ResponseField name="data.daily_metrics[].volume" type="number">
  Transaction volume on this date.
</ResponseField>

<ResponseField name="data.daily_metrics[].success_rate" type="number">
  Success rate on this date.
</ResponseField>

<ResponseField name="data.provider_metrics" type="object">
  Metrics by payment provider.
</ResponseField>

<ResponseField name="data.provider_metrics[provider_name]" type="object">
  Metrics for specific provider.
</ResponseField>

<ResponseField name="data.provider_metrics[provider_name].transactions" type="number">
  Number of transactions via this provider.
</ResponseField>

<ResponseField name="data.provider_metrics[provider_name].volume" type="number">
  Transaction volume via this provider.
</ResponseField>

<ResponseField name="data.provider_metrics[provider_name].success_rate" type="number">
  Success rate via this provider.
</ResponseField>

<ResponseField name="data.network_metrics" type="object">
  Metrics by blockchain network.
</ResponseField>

<ResponseField name="data.network_metrics[network_name]" type="object">
  Metrics for specific network.
</ResponseField>

<ResponseField name="data.network_metrics[network_name].transactions" type="number">
  Number of transactions on this network.
</ResponseField>

<ResponseField name="data.network_metrics[network_name].volume" type="number">
  Transaction volume on this network.
</ResponseField>

<ResponseField name="data.network_metrics[network_name].gas_fees" type="number">
  Total gas fees paid on this network.
</ResponseField>

<ResponseField name="data.generated_at" type="string">
  Timestamp when metrics were generated.
</ResponseField>

## Example Request

<CodeGroup>

```bash cURL
curl -X GET "https://api.railsfromthecrypt.com/v1/virtual-accounts/va_1234567890/metrics?period=30d&currency=USD" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

```javascript JavaScript
const response = await fetch('https://api.railsfromthecrypt.com/v1/virtual-accounts/va_1234567890/metrics?period=30d&currency=USD', {
  headers: {
    'Authorization': 'Bearer YOUR_ACCESS_TOKEN'
  }
});

const data = await response.json();
console.log(data);
```

```python Python
import requests

response = requests.get(
    'https://api.railsfromthecrypt.com/v1/virtual-accounts/va_1234567890/metrics',
    headers={
        'Authorization': 'Bearer YOUR_ACCESS_TOKEN'
    },
    params={
        'period': '30d',
        'currency': 'USD'
    }
)

data = response.json()
print(data)
```

</CodeGroup>

## Example Response

<ResponseExample>

```json Success Response
{
  "success": true,
  "data": {
    "account_id": "va_1234567890",
    "period": "30d",
    "currency": "USD",
    "summary": {
      "total_transactions": 1250,
      "total_volume": 125000.50,
      "successful_transactions": 1180,
      "failed_transactions": 70,
      "success_rate": 94.4,
      "average_transaction_amount": 100.00,
      "largest_transaction": 5000.00,
      "smallest_transaction": 10.00
    },
    "daily_metrics": [
      {
        "date": "2024-01-01",
        "transactions": 45,
        "volume": 4500.00,
        "success_rate": 95.6
      },
      {
        "date": "2024-01-02",
        "transactions": 52,
        "volume": 5200.00,
        "success_rate": 94.2
      }
    ],
    "provider_metrics": {
      "Bridge": {
        "transactions": 800,
        "volume": 80000.00,
        "success_rate": 96.0
      },
      "Nomba": {
        "transactions": 300,
        "volume": 30000.00,
        "success_rate": 92.0
      },
      "Juicyway": {
        "transactions": 150,
        "volume": 15000.50,
        "success_rate": 93.3
      }
    },
    "network_metrics": {
      "Polygon": {
        "transactions": 1000,
        "volume": 100000.00,
        "gas_fees": 125.50
      },
      "Ethereum": {
        "transactions": 250,
        "volume": 25000.50,
        "gas_fees": 450.75
      }
    },
    "generated_at": "2024-01-01T12:00:00Z"
  }
}
```

</ResponseExample>

## Error Responses

<ResponseExample>

```json Virtual Account Not Found
{
  "success": false,
  "message": "Virtual account not found",
  "error": {
    "code": "VIRTUAL_ACCOUNT_NOT_FOUND",
    "type": "not_found_error",
    "details": "The specified virtual account does not exist"
  }
}
```

```json Invalid Period
{
  "success": false,
  "message": "Invalid period",
  "error": {
    "code": "INVALID_PERIOD",
    "type": "validation_error",
    "details": "Period must be one of: 1d, 7d, 30d, 90d, 1y"
  }
}
```

```json Unauthorized
{
  "success": false,
  "message": "Unauthorized",
  "error": {
    "code": "UNAUTHORIZED",
    "type": "authentication_error",
    "details": "Invalid or expired token"
  }
}
```

</ResponseExample>

## Status Codes

<ResponseField name="200" type="number">
  Metrics retrieved successfully
</ResponseField>

<ResponseField name="400" type="number">
  Bad request - validation errors
</ResponseField>

<ResponseField name="401" type="number">
  Unauthorized - invalid or expired token
</ResponseField>

<ResponseField name="404" type="number">
  Not found - virtual account not found
</ResponseField>

<ResponseField name="500" type="number">
  Internal server error
</ResponseField>

## Metrics Periods

<CardGroup cols={2}>
  <Card title="1 Day" icon="calendar-day">
    **1 Day Metrics**
    
    - Hourly breakdown
    - Real-time data
    - Recent activity
    - Quick insights
  </Card>
  <Card title="7 Days" icon="calendar-week">
    **7 Day Metrics**
    
    - Daily breakdown
    - Weekly trends
    - Performance analysis
    - Short-term patterns
  </Card>
  <Card title="30 Days" icon="calendar">
    **30 Day Metrics**
    
    - Daily breakdown
    - Monthly trends
    - Comprehensive analysis
    - Default period
  </Card>
  <Card title="90 Days" icon="chart-line">
    **90 Day Metrics**
    
    - Weekly breakdown
    - Quarterly trends
    - Long-term analysis
    - Seasonal patterns
  </Card>
</CardGroup>

## Implementation Example

<CodeGroup>

```javascript JavaScript
class VirtualAccountMetrics {
  constructor(apiClient) {
    this.apiClient = apiClient;
  }
  
  async getMetrics(accountId, options = {}) {
    try {
      const params = new URLSearchParams();
      
      if (options.period) params.append('period', options.period);
      if (options.startDate) params.append('start_date', options.startDate);
      if (options.endDate) params.append('end_date', options.endDate);
      if (options.currency) params.append('currency', options.currency);
      
      const response = await this.apiClient.get(`/v1/virtual-accounts/${accountId}/metrics?${params}`);
      
      if (response.success) {
        return response.data;
      } else {
        throw new Error(response.message);
      }
    } catch (error) {
      console.error('Failed to get metrics:', error);
      throw error;
    }
  }
  
  async getDailyMetrics(accountId, period = '30d') {
    const metrics = await this.getMetrics(accountId, { period });
    return metrics.daily_metrics;
  }
  
  async getSummaryMetrics(accountId, period = '30d') {
    const metrics = await this.getMetrics(accountId, { period });
    return metrics.summary;
  }
  
  async getProviderMetrics(accountId, period = '30d') {
    const metrics = await this.getMetrics(accountId, { period });
    return metrics.provider_metrics;
  }
  
  async getNetworkMetrics(accountId, period = '30d') {
    const metrics = await this.getMetrics(accountId, { period });
    return metrics.network_metrics;
  }
  
  displayMetrics(metricsData) {
    this.displaySummary(metricsData.summary);
    this.displayDailyChart(metricsData.daily_metrics);
    this.displayProviderBreakdown(metricsData.provider_metrics);
    this.displayNetworkBreakdown(metricsData.network_metrics);
  }
  
  displaySummary(summary) {
    const container = document.getElementById('metrics-summary');
    
    container.innerHTML = `
      <div class="metrics-summary-grid">
        <div class="metric-card">
          <h3>Total Transactions</h3>
          <div class="metric-value">${summary.total_transactions.toLocaleString()}</div>
        </div>
        <div class="metric-card">
          <h3>Total Volume</h3>
          <div class="metric-value">$${summary.total_volume.toLocaleString()}</div>
        </div>
        <div class="metric-card">
          <h3>Success Rate</h3>
          <div class="metric-value">${summary.success_rate.toFixed(1)}%</div>
        </div>
        <div class="metric-card">
          <h3>Average Amount</h3>
          <div class="metric-value">$${summary.average_transaction_amount.toFixed(2)}</div>
        </div>
        <div class="metric-card">
          <h3>Largest Transaction</h3>
          <div class="metric-value">$${summary.largest_transaction.toLocaleString()}</div>
        </div>
        <div class="metric-card">
          <h3>Failed Transactions</h3>
          <div class="metric-value">${summary.failed_transactions}</div>
        </div>
      </div>
    `;
  }
  
  displayDailyChart(dailyMetrics) {
    const container = document.getElementById('daily-chart');
    
    // Create chart data
    const chartData = dailyMetrics.map(day => ({
      date: day.date,
      transactions: day.transactions,
      volume: day.volume,
      successRate: day.success_rate
    }));
    
    // This would typically use a charting library like Chart.js
    container.innerHTML = `
      <div class="chart-container">
        <h3>Daily Metrics</h3>
        <div class="chart-placeholder">
          Chart would be rendered here using Chart.js or similar
        </div>
        <div class="chart-data">
          ${chartData.map(day => `
            <div class="chart-day">
              <span class="date">${day.date}</span>
              <span class="transactions">${day.transactions} txns</span>
              <span class="volume">$${day.volume.toLocaleString()}</span>
              <span class="success-rate">${day.successRate.toFixed(1)}%</span>
            </div>
          `).join('')}
        </div>
      </div>
    `;
  }
  
  displayProviderBreakdown(providerMetrics) {
    const container = document.getElementById('provider-breakdown');
    
    const providers = Object.entries(providerMetrics);
    
    container.innerHTML = `
      <div class="provider-breakdown">
        <h3>Provider Breakdown</h3>
        <div class="provider-list">
          ${providers.map(([provider, metrics]) => `
            <div class="provider-item">
              <div class="provider-name">${provider}</div>
              <div class="provider-metrics">
                <span class="transactions">${metrics.transactions} transactions</span>
                <span class="volume">$${metrics.volume.toLocaleString()}</span>
                <span class="success-rate">${metrics.success_rate.toFixed(1)}% success</span>
              </div>
            </div>
          `).join('')}
        </div>
      </div>
    `;
  }
  
  displayNetworkBreakdown(networkMetrics) {
    const container = document.getElementById('network-breakdown');
    
    const networks = Object.entries(networkMetrics);
    
    container.innerHTML = `
      <div class="network-breakdown">
        <h3>Network Breakdown</h3>
        <div class="network-list">
          ${networks.map(([network, metrics]) => `
            <div class="network-item">
              <div class="network-name">${network}</div>
              <div class="network-metrics">
                <span class="transactions">${metrics.transactions} transactions</span>
                <span class="volume">$${metrics.volume.toLocaleString()}</span>
                <span class="gas-fees">$${metrics.gas_fees.toFixed(2)} gas fees</span>
              </div>
            </div>
          `).join('')}
        </div>
      </div>
    `;
  }
  
  generateReport(metricsData) {
    const report = {
      accountId: metricsData.account_id,
      period: metricsData.period,
      currency: metricsData.currency,
      summary: metricsData.summary,
      generatedAt: new Date().toISOString(),
      insights: this.generateInsights(metricsData)
    };
    
    return report;
  }
  
  generateInsights(metricsData) {
    const insights = [];
    
    // Success rate insight
    if (metricsData.summary.success_rate > 95) {
      insights.push("Excellent success rate - above 95%");
    } else if (metricsData.summary.success_rate < 90) {
      insights.push("Success rate below 90% - review failed transactions");
    }
    
    // Volume insight
    if (metricsData.summary.total_volume > 100000) {
      insights.push("High volume account - consider premium support");
    }
    
    // Provider insight
    const providers = Object.entries(metricsData.provider_metrics);
    const bestProvider = providers.reduce((best, [name, metrics]) => 
      metrics.success_rate > best.success_rate ? { name, ...metrics } : best
    );
    insights.push(`Best performing provider: ${bestProvider.name} (${bestProvider.success_rate.toFixed(1)}%)`);
    
    return insights;
  }
}

// Usage
const metricsManager = new VirtualAccountMetrics(apiClient);

// Get metrics for different periods
document.getElementById('get-metrics-30d').addEventListener('click', async () => {
  const accountId = 'va_1234567890';
  
  try {
    const metrics = await metricsManager.getMetrics(accountId, { period: '30d' });
    metricsManager.displayMetrics(metrics);
  } catch (error) {
    console.error('Failed to get metrics:', error);
  }
});

// Get custom period metrics
document.getElementById('get-custom-metrics').addEventListener('click', async () => {
  const accountId = 'va_1234567890';
  const startDate = '2024-01-01';
  const endDate = '2024-01-31';
  
  try {
    const metrics = await metricsManager.getMetrics(accountId, { 
      startDate, 
      endDate 
    });
    metricsManager.displayMetrics(metrics);
  } catch (error) {
    console.error('Failed to get custom metrics:', error);
  }
});

// Generate report
document.getElementById('generate-report').addEventListener('click', async () => {
  const accountId = 'va_1234567890';
  
  try {
    const metrics = await metricsManager.getMetrics(accountId, { period: '30d' });
    const report = metricsManager.generateReport(metrics);
    
    // Download report as JSON
    const blob = new Blob([JSON.stringify(report, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `virtual-account-metrics-${accountId}-${report.period}.json`;
    a.click();
  } catch (error) {
    console.error('Failed to generate report:', error);
  }
});
```

</CodeGroup>

## Related Endpoints

<CardGroup cols={2}>
  <Card
    title="Get Virtual Account"
    icon="eye"
    href="/api/virtual-accounts/request/account"
  >
    Get virtual account details
  </Card>
  <Card
    title="Virtual Account Activities"
    icon="history"
    href="/api/virtual-accounts/activities"
  >
    Get virtual account activities
  </Card>
  <Card
    title="List Transactions"
    icon="list"
    href="/api/transactions/list"
  >
    List virtual account transactions
  </Card>
  <Card
    title="Virtual Accounts Guide"
    icon="book"
    href="/guides/virtual-accounts"
  >
    Complete virtual accounts guide
  </Card>
</CardGroup>
