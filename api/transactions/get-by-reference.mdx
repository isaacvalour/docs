---
title: "Get Transaction by Reference"
api: "GET /v1/transactions/reference/{reference}"
description: "Retrieve a specific transaction by its reference ID"
---

## Overview

Retrieve detailed information about a specific transaction using its unique reference ID. This endpoint is useful for tracking transaction status and getting complete transaction details.

<Note>
The reference ID is a unique identifier that can be used to track transactions across different systems and is often more user-friendly than internal transaction IDs.
</Note>

## Path Parameters

<ParamField path="reference" type="string" required>
  The unique reference ID of the transaction to retrieve
  
  **Format:** Alphanumeric string (e.g., `TXN-1234567890`)
</ParamField>

## Response

<ResponseField name="id" type="string">
  Unique internal identifier for the transaction
</ResponseField>

<ResponseField name="reference" type="string">
  Unique reference ID for the transaction
</ResponseField>

<ResponseField name="user_id" type="string">
  User ID who initiated the transaction
</ResponseField>

<ResponseField name="status" type="string">
  Current transaction status (`pending`, `processing`, `completed`, `failed`, `cancelled`)
</ResponseField>

<ResponseField name="type" type="string">
  Transaction type (`transfer`, `payment`, `exchange`)
</ResponseField>

<ResponseField name="amount" type="string">
  Transaction amount
</ResponseField>

<ResponseField name="fee" type="string">
  Transaction fee
</ResponseField>

<ResponseField name="sender_currency" type="string">
  Source currency code
</ResponseField>

<ResponseField name="receiver_currency" type="string">
  Destination currency code
</ResponseField>

<ResponseField name="rate" type="string">
  Exchange rate used for the transaction
</ResponseField>

<ResponseField name="source_amount" type="string">
  Amount sent from source
</ResponseField>

<ResponseField name="received_amount" type="string">
  Amount received by destination
</ResponseField>

<ResponseField name="transfer_fee" type="string">
  Transfer fee amount
</ResponseField>

<ResponseField name="recipient_name" type="string">
  Name of the recipient
</ResponseField>

<ResponseField name="wallet_address" type="string">
  Destination wallet address
</ResponseField>

<ResponseField name="network" type="string">
  Blockchain network used
</ResponseField>

<ResponseField name="created_at" type="string">
  Transaction creation timestamp (ISO 8601)
</ResponseField>

<ResponseField name="updated_at" type="string">
  Last update timestamp (ISO 8601)
</ResponseField>

<ResponseField name="transaction_hash" type="string">
  Blockchain transaction hash (if applicable)
</ResponseField>

<ResponseField name="reason" type="string">
  Reason for transaction failure (if applicable)
</ResponseField>

<ResponseField name="events" type="array">
  Array of transaction events with timestamps
</ResponseField>

<ResponseField name="events[].status" type="string">
  Event status
</ResponseField>

<ResponseField name="events[].timestamp" type="string">
  Event timestamp (ISO 8601)
</ResponseField>

<ResponseField name="events[].description" type="string">
  Event description
</ResponseField>

## Example Request

<CodeGroup>

```bash cURL
curl -X GET "https://api.railsfromthecrypt.com/v1/transactions/reference/TXN-1234567890" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

```javascript JavaScript
const response = await fetch('https://api.railsfromthecrypt.com/v1/transactions/reference/TXN-1234567890', {
  headers: {
    'Authorization': 'Bearer YOUR_ACCESS_TOKEN'
  }
});

const transaction = await response.json();
```

```python Python
import requests

response = requests.get(
    'https://api.railsfromthecrypt.com/v1/transactions/reference/TXN-1234567890',
    headers={'Authorization': 'Bearer YOUR_ACCESS_TOKEN'}
)
transaction = response.json()
```

```php PHP
<?php

$response = $httpClient->get('https://api.railsfromthecrypt.com/v1/transactions/reference/TXN-1234567890', [
    'headers' => ['Authorization' => 'Bearer YOUR_ACCESS_TOKEN']
]);
$transaction = $response->json();
```

</CodeGroup>

## Example Response

<ResponseExample>

```json Success Response
{
  "id": "123e4567-e89b-12d3-a456-426614174000",
  "reference": "TXN-1234567890",
  "user_id": "123e4567-e89b-12d3-a456-426614174000",
  "status": "completed",
  "type": "transfer",
  "amount": "1000.00",
  "fee": "10.00",
  "sender_currency": "NGN",
  "receiver_currency": "USDC",
  "rate": "1.2345",
  "source_amount": "1000.00",
  "received_amount": "990.00",
  "transfer_fee": "10.00",
  "recipient_name": "John Doe",
  "wallet_address": "0x1234567890abcdef1234567890abcdef12345678",
  "network": "Polygon",
  "created_at": "2024-01-01T12:00:00Z",
  "updated_at": "2024-01-01T12:15:00Z",
  "transaction_hash": "0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890",
  "reason": null,
  "events": [
    {
      "status": "awaiting_payment",
      "timestamp": "2024-01-01T12:00:00Z",
      "description": "Awaiting payment confirmation"
    },
    {
      "status": "payment_completed",
      "timestamp": "2024-01-01T12:05:00Z",
      "description": "Payment completed"
    },
    {
      "status": "processing",
      "timestamp": "2024-01-01T12:10:00Z",
      "description": "Processing transaction"
    },
    {
      "status": "completed",
      "timestamp": "2024-01-01T12:15:00Z",
      "description": "Transaction completed successfully"
    }
  ]
}
```

</ResponseExample>

## Error Responses

<ResponseField name="message" type="string">
  Error description
</ResponseField>

<ResponseField name="error" type="object">
  Error details
</ResponseField>

### Common Error Codes

<CardGroup cols={2}>
  <Card title="404 Not Found" icon="search">
    - **TRANSACTION_NOT_FOUND**: Transaction with the specified reference not found
    - **INVALID_REFERENCE**: Invalid reference format
  </Card>
  <Card title="401 Unauthorized" icon="shield-exclamation">
    - **INVALID_TOKEN**: Invalid or expired access token
    - **MISSING_TOKEN**: Authorization header missing
  </Card>
  <Card title="403 Forbidden" icon="lock">
    - **ACCESS_DENIED**: User doesn't have access to this transaction
    - **UNAUTHORIZED_ACCESS**: Transaction belongs to different user
  </Card>
  <Card title="429 Too Many Requests" icon="clock">
    - **RATE_LIMIT_EXCEEDED**: Too many requests
    - Wait before retrying
  </Card>
</CardGroup>

## Usage Examples

### Track Transaction Status

<CodeGroup>

```javascript JavaScript
async function trackTransaction(reference) {
  try {
    const response = await fetch(`https://api.railsfromthecrypt.com/v1/transactions/reference/${reference}`, {
      headers: {
        'Authorization': `Bearer ${accessToken}`
      }
    });

    if (!response.ok) {
      if (response.status === 404) {
        throw new Error('Transaction not found');
      }
      throw new Error('Failed to fetch transaction');
    }

    const transaction = await response.json();
    
    console.log(`Transaction ${reference} status: ${transaction.status}`);
    
    // Show transaction details
    displayTransactionDetails(transaction);
    
    return transaction;
  } catch (error) {
    console.error('Error tracking transaction:', error);
    throw error;
  }
}

function displayTransactionDetails(transaction) {
  console.log('Transaction Details:');
  console.log(`- Reference: ${transaction.reference}`);
  console.log(`- Status: ${transaction.status}`);
  console.log(`- Amount: ${transaction.amount} ${transaction.sender_currency}`);
  console.log(`- Recipient: ${transaction.recipient_name}`);
  console.log(`- Created: ${transaction.created_at}`);
  
  if (transaction.events && transaction.events.length > 0) {
    console.log('Transaction Events:');
    transaction.events.forEach(event => {
      console.log(`  ${event.timestamp}: ${event.description}`);
    });
  }
}
```

```python Python
def track_transaction(reference):
    try:
        response = requests.get(
            f'https://api.railsfromthecrypt.com/v1/transactions/reference/{reference}',
            headers={'Authorization': f'Bearer {access_token}'}
        )
        
        if not response.ok:
            if response.status_code == 404:
                raise Exception('Transaction not found')
            raise Exception('Failed to fetch transaction')
        
        transaction = response.json()
        
        print(f'Transaction {reference} status: {transaction["status"]}')
        
        # Show transaction details
        display_transaction_details(transaction)
        
        return transaction
        
    except Exception as e:
        print(f'Error tracking transaction: {e}')
        raise

def display_transaction_details(transaction):
    print('Transaction Details:')
    print(f'- Reference: {transaction["reference"]}')
    print(f'- Status: {transaction["status"]}')
    print(f'- Amount: {transaction["amount"]} {transaction["sender_currency"]}')
    print(f'- Recipient: {transaction["recipient_name"]}')
    print(f'- Created: {transaction["created_at"]}')
    
    if transaction.get('events'):
        print('Transaction Events:')
        for event in transaction['events']:
            print(f'  {event["timestamp"]}: {event["description"]}')
```

</CodeGroup>

### Check Transaction Progress

<CodeGroup>

```javascript JavaScript
async function checkTransactionProgress(reference) {
  try {
    const transaction = await trackTransaction(reference);
    
    const statusInfo = {
      'pending': {
        message: 'Transaction is pending payment confirmation',
        action: 'Complete your payment to proceed',
        color: 'orange'
      },
      'processing': {
        message: 'Transaction is being processed',
        action: 'Please wait while we process your transaction',
        color: 'blue'
      },
      'completed': {
        message: 'Transaction completed successfully',
        action: 'Your funds have been sent',
        color: 'green'
      },
      'failed': {
        message: `Transaction failed: ${transaction.reason || 'Unknown error'}`,
        action: 'Please contact support for assistance',
        color: 'red'
      },
      'cancelled': {
        message: 'Transaction was cancelled',
        action: 'You can create a new transaction if needed',
        color: 'gray'
      }
    };
    
    const info = statusInfo[transaction.status] || {
      message: 'Unknown transaction status',
      action: 'Please contact support',
      color: 'gray'
    };
    
    return {
      transaction,
      statusInfo: info
    };
  } catch (error) {
    console.error('Error checking transaction progress:', error);
    throw error;
  }
}
```

</CodeGroup>

### Monitor Transaction Events

<CodeGroup>

```javascript JavaScript
async function monitorTransactionEvents(reference, onStatusChange) {
  const maxAttempts = 60; // 10 minutes with 10-second intervals
  let attempts = 0;
  let lastStatus = null;
  
  while (attempts < maxAttempts) {
    try {
      const transaction = await trackTransaction(reference);
      
      // Check if status changed
      if (lastStatus && transaction.status !== lastStatus) {
        onStatusChange(transaction, lastStatus);
      }
      
      lastStatus = transaction.status;
      
      // Stop monitoring if transaction is final
      if (['completed', 'failed', 'cancelled'].includes(transaction.status)) {
        console.log(`Transaction ${reference} reached final status: ${transaction.status}`);
        break;
      }
      
      // Wait before next check
      await new Promise(resolve => setTimeout(resolve, 10000));
      attempts++;
      
    } catch (error) {
      console.error('Error monitoring transaction:', error);
      attempts++;
    }
  }
  
  if (attempts >= maxAttempts) {
    console.log('Transaction monitoring timeout');
  }
}

// Usage
monitorTransactionEvents('TXN-1234567890', (transaction, previousStatus) => {
  console.log(`Status changed from ${previousStatus} to ${transaction.status}`);
  
  // Update UI, send notifications, etc.
  updateTransactionUI(transaction);
});
```

</CodeGroup>

## Best Practices

<AccordionGroup>
  <Accordion title="Reference ID Management">
    - Store reference IDs securely in your system
    - Use reference IDs for user-facing transaction tracking
    - Implement proper error handling for invalid references
    - Cache transaction data to reduce API calls
  </Accordion>
  <Accordion title="Status Monitoring">
    - Poll for status updates on pending transactions
    - Implement exponential backoff for retries
    - Use webhooks for real-time updates when possible
    - Show clear status messages to users
  </Accordion>
  <Accordion title="Error Handling">
    - Handle 404 errors gracefully (transaction not found)
    - Implement retry logic for network errors
    - Show appropriate error messages to users
    - Log errors for debugging purposes
  </Accordion>
  <Accordion title="Performance">
    - Cache transaction data when appropriate
    - Use appropriate polling intervals
    - Implement request deduplication
    - Monitor API usage and rate limits
  </Accordion>
</AccordionGroup>

## Related Endpoints

<CardGroup cols={2}>
  <Card
    title="Get Transaction by ID"
    icon="id-card"
    href="/api/transactions/get-by-id"
  >
    Get a specific transaction by internal ID
  </Card>
  <Card
    title="List Transactions"
    icon="list"
    href="/api/transactions/list"
  >
    Get paginated list of all transactions
  </Card>
  <Card
    title="Create Transfer Request"
    icon="plus"
    href="/api/transfer-requests/create"
  >
    Create a new transfer request
  </Card>
  <Card
    title="Webhooks"
    icon="webhook"
    href="/concepts/webhooks"
  >
    Set up real-time transaction notifications
  </Card>
</CardGroup>
