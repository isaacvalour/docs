---
title: "Set Password"
api: "POST /v1/auth/set-password"
description: "Set or update user password"
---

## Overview

Set or update a user's password. This endpoint can be used for initial password setup or password changes.

<Note>
  This endpoint requires authentication via Bearer token in the Authorization header.
</Note>

## Request

<ParamField header="Authorization" type="string" required>
  Bearer token for authentication. Format: `Bearer <access_token>`
</ParamField>

<ParamField body="current_password" type="string">
  Current password (required for password updates).
</ParamField>

<ParamField body="new_password" type="string" required>
  New password. Must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, and one number.
</ParamField>

<ParamField body="confirm_password" type="string" required>
  Confirmation of the new password. Must match new_password.
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the password was set successfully.
</ResponseField>

<ResponseField name="message" type="string">
  Success message.
</ResponseField>

## Example Request

<CodeGroup>

```bash cURL
curl -X POST "https://api.railsfromthecrypt.com/v1/auth/set-password" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "current_password": "OldPassword123",
    "new_password": "NewSecurePassword123",
    "confirm_password": "NewSecurePassword123"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.railsfromthecrypt.com/v1/auth/set-password', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_ACCESS_TOKEN',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    current_password: 'OldPassword123',
    new_password: 'NewSecurePassword123',
    confirm_password: 'NewSecurePassword123'
  })
});

const data = await response.json();
console.log(data);
```

```python Python
import requests

response = requests.post(
    'https://api.railsfromthecrypt.com/v1/auth/set-password',
    headers={
        'Authorization': 'Bearer YOUR_ACCESS_TOKEN',
        'Content-Type': 'application/json'
    },
    json={
        'current_password': 'OldPassword123',
        'new_password': 'NewSecurePassword123',
        'confirm_password': 'NewSecurePassword123'
    }
)

data = response.json()
print(data)
```

</CodeGroup>

## Example Response

<ResponseExample>

```json Success Response
{
  "success": true,
  "message": "Password updated successfully"
}
```

</ResponseExample>

## Error Responses

<ResponseExample>

```json Validation Error
{
  "success": false,
  "message": "Validation failed",
  "error": {
    "code": "VALIDATION_ERROR",
    "type": "validation_error",
    "details": {
      "new_password": ["Password must be at least 8 characters long"],
      "confirm_password": ["Passwords do not match"]
    }
  }
}
```

```json Invalid Current Password
{
  "success": false,
  "message": "Invalid current password",
  "error": {
    "code": "INVALID_CURRENT_PASSWORD",
    "type": "authentication_error",
    "details": "The current password is incorrect"
  }
}
```

```json Same Password
{
  "success": false,
  "message": "New password must be different from current password",
  "error": {
    "code": "SAME_PASSWORD",
    "type": "validation_error",
    "details": "The new password must be different from the current password"
  }
}
```

</ResponseExample>

## Status Codes

<ResponseField name="200" type="number">
  Password set successfully
</ResponseField>

<ResponseField name="400" type="number">
  Bad request - validation errors
</ResponseField>

<ResponseField name="401" type="number">
  Unauthorized - invalid token or current password
</ResponseField>

<ResponseField name="500" type="number">
  Internal server error
</ResponseField>

## Password Requirements

The new password must meet the following requirements:

- **Minimum length**: 8 characters
- **Uppercase letter**: At least one uppercase letter (A-Z)
- **Lowercase letter**: At least one lowercase letter (a-z)
- **Number**: At least one number (0-9)
- **Special character**: At least one special character (!@#$%^&*)

## Security Considerations

- Passwords are hashed using bcrypt before storage
- Current password is required for password changes
- Password confirmation must match the new password
- Consider implementing password history to prevent reuse
- Implement rate limiting to prevent brute force attacks

## Implementation Example

<CodeGroup>

```javascript JavaScript
class PasswordManager {
  constructor(apiClient) {
    this.apiClient = apiClient;
  }
  
  async setPassword(currentPassword, newPassword, confirmPassword) {
    try {
      const response = await this.apiClient.post('/v1/auth/set-password', {
        current_password: currentPassword,
        new_password: newPassword,
        confirm_password: confirmPassword
      });
      
      if (response.success) {
        // Show success message
        this.showSuccessMessage('Password updated successfully');
        return true;
      } else {
        // Show error message
        this.showErrorMessage(response.message);
        return false;
      }
    } catch (error) {
      this.showErrorMessage('An error occurred while updating password');
      return false;
    }
  }
  
  validatePassword(password) {
    const requirements = {
      length: password.length >= 8,
      uppercase: /[A-Z]/.test(password),
      lowercase: /[a-z]/.test(password),
      number: /\d/.test(password),
      special: /[!@#$%^&*]/.test(password)
    };
    
    return {
      isValid: Object.values(requirements).every(req => req),
      requirements: requirements
    };
  }
}
```

</CodeGroup>

## Related Endpoints

<CardGroup cols={2}>
  <Card
    title="Login"
    icon="sign-in-alt"
    href="/api/auth/login"
  >
    Login with email and password
  </Card>
  <Card
    title="Forgot Password"
    icon="key"
    href="/api/auth/forgot-password"
  >
    Reset forgotten password
  </Card>
  <Card
    title="Reset Password"
    icon="undo"
    href="/api/auth/reset-password"
  >
    Reset password with token
  </Card>
  <Card
    title="Authentication Guide"
    icon="book"
    href="/authentication"
  >
    Complete authentication guide
  </Card>
</CardGroup>
