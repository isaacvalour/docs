---
title: "List Customers"
api: "GET /v1/customers"
description: "List all customers with filtering and pagination"
---

## Overview

Retrieve a list of all customers with optional filtering, sorting, and pagination. This endpoint allows you to search and filter customers based on various criteria.

<Note>
  This endpoint requires authentication via Bearer token in the Authorization header.
</Note>

## Request

<ParamField header="Authorization" type="string" required>
  Bearer token for authentication. Format: `Bearer <access_token>`
</ParamField>

<ParamField query="limit" type="number">
  Number of customers to return. Default: 50, Max: 100.
</ParamField>

<ParamField query="offset" type="number">
  Number of customers to skip. Default: 0.
</ParamField>

<ParamField query="search" type="string">
  Search term to filter customers by name, email, or phone number.
</ParamField>

<ParamField query="status" type="string">
  Filter by customer status. Possible values: "active", "inactive", "suspended", "pending".
</ParamField>

<ParamField query="kyc_status" type="string">
  Filter by KYC status. Possible values: "pending", "basic", "enhanced", "rejected".
</ParamField>

<ParamField query="kyc_level" type="string">
  Filter by KYC level. Possible values: "basic", "enhanced".
</ParamField>

<ParamField query="country" type="string">
  Filter by country code (ISO 3166-1 alpha-2).
</ParamField>

<ParamField query="document_type" type="string">
  Filter by document type. Possible values: "passport", "drivers_license", "national_id", "voters_card".
</ParamField>

<ParamField query="created_after" type="string">
  Filter customers created after this date (ISO 8601 format).
</ParamField>

<ParamField query="created_before" type="string">
  Filter customers created before this date (ISO 8601 format).
</ParamField>

<ParamField query="sort" type="string">
  Sort order. Possible values: "created_at", "-created_at", "name", "-name", "email", "-email". Default: "-created_at".
</ParamField>

<ParamField query="include_metadata" type="boolean">
  Include customer metadata in response. Default: false.
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the request was successful.
</ResponseField>

<ResponseField name="data" type="object">
  Customers data.
</ResponseField>

<ResponseField name="data.customers" type="array">
  Array of customer objects.
</ResponseField>

<ResponseField name="data.customers[].id" type="string">
  Customer ID.
</ResponseField>

<ResponseField name="data.customers[].email" type="string">
  Customer's email address.
</ResponseField>

<ResponseField name="data.customers[].first_name" type="string">
  Customer's first name.
</ResponseField>

<ResponseField name="data.customers[].last_name" type="string">
  Customer's last name.
</ResponseField>

<ResponseField name="data.customers[].phone_number" type="string">
  Customer's phone number.
</ResponseField>

<ResponseField name="data.customers[].date_of_birth" type="string">
  Customer's date of birth.
</ResponseField>

<ResponseField name="data.customers[].country" type="string">
  Customer's country code.
</ResponseField>

<ResponseField name="data.customers[].document_type" type="string">
  Document type.
</ResponseField>

<ResponseField name="data.customers[].document_number" type="string">
  Document number (masked for security).
</ResponseField>

<ResponseField name="data.customers[].occupation" type="string">
  Customer's occupation.
</ResponseField>

<ResponseField name="data.customers[].employer" type="string">
  Customer's employer.
</ResponseField>

<ResponseField name="data.customers[].annual_income" type="number">
  Customer's annual income.
</ResponseField>

<ResponseField name="data.customers[].source_of_funds" type="string">
  Source of funds.
</ResponseField>

<ResponseField name="data.customers[].purpose_of_account" type="string">
  Purpose of account.
</ResponseField>

<ResponseField name="data.customers[].kyc_status" type="string">
  KYC verification status.
</ResponseField>

<ResponseField name="data.customers[].kyc_level" type="string">
  KYC verification level.
</ResponseField>

<ResponseField name="data.customers[].risk_score" type="number">
  Customer risk score (0-100).
</ResponseField>

<ResponseField name="data.customers[].status" type="string">
  Customer status.
</ResponseField>

<ResponseField name="data.customers[].metadata" type="object">
  Customer metadata (if include_metadata=true).
</ResponseField>

<ResponseField name="data.customers[].created_at" type="string">
  Customer creation timestamp.
</ResponseField>

<ResponseField name="data.customers[].updated_at" type="string">
  Last update timestamp.
</ResponseField>

<ResponseField name="data.pagination" type="object">
  Pagination information.
</ResponseField>

<ResponseField name="data.pagination.total" type="number">
  Total number of customers.
</ResponseField>

<ResponseField name="data.pagination.limit" type="number">
  Number of customers per page.
</ResponseField>

<ResponseField name="data.pagination.offset" type="number">
  Number of customers skipped.
</ResponseField>

<ResponseField name="data.pagination.has_more" type="boolean">
  Whether there are more customers available.
</ResponseField>

<ResponseField name="data.pagination.next_offset" type="number">
  Offset for next page (if has_more is true).
</ResponseField>

<ResponseField name="data.filters" type="object">
  Applied filters information.
</ResponseField>

<ResponseField name="data.filters.applied" type="array">
  List of applied filters.
</ResponseField>

<ResponseField name="data.filters.available" type="object">
  Available filter options.
</ResponseField>

<ResponseField name="data.filters.available.statuses" type="array">
  Available status values.
</ResponseField>

<ResponseField name="data.filters.available.kyc_statuses" type="array">
  Available KYC status values.
</ResponseField>

<ResponseField name="data.filters.available.countries" type="array">
  Available country codes.
</ResponseField>

<ResponseField name="data.filters.available.document_types" type="array">
  Available document types.
</ResponseField>

## Example Request

<CodeGroup>

```bash cURL
curl -X GET "https://api.railsfromthecrypt.com/v1/customers?limit=20&status=active&kyc_status=enhanced&country=US&sort=-created_at" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

```javascript JavaScript
const response = await fetch('https://api.railsfromthecrypt.com/v1/customers?limit=20&status=active&kyc_status=enhanced&country=US&sort=-created_at', {
  headers: {
    'Authorization': 'Bearer YOUR_ACCESS_TOKEN'
  }
});

const data = await response.json();
console.log(data);
```

```python Python
import requests

response = requests.get(
    'https://api.railsfromthecrypt.com/v1/customers',
    headers={
        'Authorization': 'Bearer YOUR_ACCESS_TOKEN'
    },
    params={
        'limit': 20,
        'status': 'active',
        'kyc_status': 'enhanced',
        'country': 'US',
        'sort': '-created_at'
    }
)

data = response.json()
print(data)
```

</CodeGroup>

## Example Response

<ResponseExample>

```json Success Response
{
  "success": true,
  "data": {
    "customers": [
      {
        "id": "cust_1234567890",
        "email": "john.doe@example.com",
        "first_name": "John",
        "last_name": "Doe",
        "phone_number": "+1234567890",
        "date_of_birth": "1990-01-15",
        "country": "US",
        "document_type": "drivers_license",
        "document_number": "DL***6789",
        "occupation": "Software Engineer",
        "employer": "Tech Corp",
        "annual_income": 75000,
        "source_of_funds": "salary",
        "purpose_of_account": "personal",
        "kyc_status": "enhanced",
        "kyc_level": "enhanced",
        "risk_score": 25,
        "status": "active",
        "created_at": "2024-01-01T12:00:00Z",
        "updated_at": "2024-01-01T12:00:00Z"
      },
      {
        "id": "cust_1234567891",
        "email": "jane.smith@example.com",
        "first_name": "Jane",
        "last_name": "Smith",
        "phone_number": "+1234567891",
        "date_of_birth": "1985-05-20",
        "country": "US",
        "document_type": "passport",
        "document_number": "PP***1234",
        "occupation": "Marketing Manager",
        "employer": "Marketing Inc",
        "annual_income": 65000,
        "source_of_funds": "salary",
        "purpose_of_account": "business",
        "kyc_status": "enhanced",
        "kyc_level": "enhanced",
        "risk_score": 30,
        "status": "active",
        "created_at": "2024-01-02T10:30:00Z",
        "updated_at": "2024-01-02T10:30:00Z"
      }
    ],
    "pagination": {
      "total": 1250,
      "limit": 20,
      "offset": 0,
      "has_more": true,
      "next_offset": 20
    },
    "filters": {
      "applied": [
        "status=active",
        "kyc_status=enhanced",
        "country=US"
      ],
      "available": {
        "statuses": ["active", "inactive", "suspended", "pending"],
        "kyc_statuses": ["pending", "basic", "enhanced", "rejected"],
        "countries": ["US", "CA", "GB", "DE", "FR"],
        "document_types": ["passport", "drivers_license", "national_id", "voters_card"]
      }
    }
  }
}
```

</ResponseExample>

## Error Responses

<ResponseExample>

```json Invalid Parameters
{
  "success": false,
  "message": "Invalid parameters",
  "error": {
    "code": "INVALID_PARAMETERS",
    "type": "validation_error",
    "details": {
      "limit": ["Limit must be between 1 and 100"],
      "status": ["Invalid status value"]
    }
  }
}
```

```json Unauthorized
{
  "success": false,
  "message": "Unauthorized",
  "error": {
    "code": "UNAUTHORIZED",
    "type": "authentication_error",
    "details": "Invalid or expired token"
  }
}
```

</ResponseExample>

## Status Codes

<ResponseField name="200" type="number">
  Customers retrieved successfully
</ResponseField>

<ResponseField name="400" type="number">
  Bad request - validation errors
</ResponseField>

<ResponseField name="401" type="number">
  Unauthorized - invalid or expired token
</ResponseField>

<ResponseField name="500" type="number">
  Internal server error
</ResponseField>

## Filtering Options

<CardGroup cols={2}>
  <Card title="Status Filter" icon="filter">
    **Customer Status**
    
    - **active**: Fully verified customers
    - **inactive**: Temporarily disabled
    - **suspended**: Suspended customers
    - **pending**: Awaiting verification
  </Card>
  <Card title="KYC Filter" icon="shield-alt">
    **KYC Status**
    
    - **pending**: Awaiting verification
    - **basic**: Basic verification complete
    - **enhanced**: Full verification complete
    - **rejected**: Verification failed
  </Card>
  <Card title="Location Filter" icon="globe">
    **Country Filter**
    
    - Filter by country code
    - ISO 3166-1 alpha-2 format
    - Supports multiple countries
    - Geographic analysis
  </Card>
  <Card title="Document Filter" icon="id-card">
    **Document Type**
    
    - **passport**: International passport
    - **drivers_license**: Driver's license
    - **national_id**: National ID card
    - **voters_card**: Voter's card
  </Card>
</CardGroup>

## Sorting Options

<CardGroup cols={2}>
  <Card title="Date Sorting" icon="calendar">
    **Date-based Sorting**
    
    - **created_at**: Oldest first
    - **-created_at**: Newest first (default)
    - **updated_at**: Last updated first
    - **-updated_at**: Recently updated first
  </Card>
  <Card title="Name Sorting" icon="sort-alpha-down">
    **Name-based Sorting**
    
    - **name**: A to Z
    - **-name**: Z to A
    - **email**: Email A to Z
    - **-email**: Email Z to A
  </Card>
</CardGroup>

## Implementation Example

<CodeGroup>

```javascript JavaScript
class CustomerListManager {
  constructor(apiClient) {
    this.apiClient = apiClient;
    this.currentFilters = {};
    this.currentPage = 0;
    this.pageSize = 20;
  }
  
  async getCustomers(options = {}) {
    try {
      const params = new URLSearchParams();
      
      // Pagination
      params.append('limit', options.limit || this.pageSize);
      params.append('offset', options.offset || (this.currentPage * this.pageSize));
      
      // Filters
      if (options.search) params.append('search', options.search);
      if (options.status) params.append('status', options.status);
      if (options.kyc_status) params.append('kyc_status', options.kyc_status);
      if (options.kyc_level) params.append('kyc_level', options.kyc_level);
      if (options.country) params.append('country', options.country);
      if (options.document_type) params.append('document_type', options.document_type);
      if (options.created_after) params.append('created_after', options.created_after);
      if (options.created_before) params.append('created_before', options.created_before);
      
      // Sorting
      params.append('sort', options.sort || '-created_at');
      
      // Include metadata
      if (options.include_metadata) params.append('include_metadata', 'true');
      
      const response = await this.apiClient.get(`/v1/customers?${params}`);
      
      if (response.success) {
        this.currentFilters = options;
        return response.data;
      } else {
        throw new Error(response.message);
      }
    } catch (error) {
      console.error('Failed to get customers:', error);
      throw error;
    }
  }
  
  async searchCustomers(searchTerm, options = {}) {
    return this.getCustomers({
      ...options,
      search: searchTerm
    });
  }
  
  async getCustomersByStatus(status, options = {}) {
    return this.getCustomers({
      ...options,
      status: status
    });
  }
  
  async getCustomersByKYCStatus(kycStatus, options = {}) {
    return this.getCustomers({
      ...options,
      kyc_status: kycStatus
    });
  }
  
  async getCustomersByCountry(country, options = {}) {
    return this.getCustomers({
      ...options,
      country: country
    });
  }
  
  async getCustomersByDateRange(startDate, endDate, options = {}) {
    return this.getCustomers({
      ...options,
      created_after: startDate,
      created_before: endDate
    });
  }
  
  async getNextPage() {
    this.currentPage++;
    return this.getCustomers(this.currentFilters);
  }
  
  async getPreviousPage() {
    if (this.currentPage > 0) {
      this.currentPage--;
      return this.getCustomers(this.currentFilters);
    }
    throw new Error('Already on first page');
  }
  
  async getAllCustomers(batchSize = 100) {
    const allCustomers = [];
    let offset = 0;
    let hasMore = true;
    
    while (hasMore) {
      const response = await this.getCustomers({
        limit: batchSize,
        offset: offset
      });
      
      allCustomers.push(...response.customers);
      hasMore = response.pagination.has_more;
      offset = response.pagination.next_offset;
    }
    
    return {
      customers: allCustomers,
      total: allCustomers.length
    };
  }
  
  displayCustomers(customersData) {
    const container = document.getElementById('customers-list');
    
    container.innerHTML = `
      <div class="customers-container">
        <div class="customers-header">
          <h3>Customers</h3>
          <div class="customers-summary">
            <span>Total: ${customersData.pagination.total.toLocaleString()}</span>
            <span>Showing: ${customersData.customers.length}</span>
          </div>
        </div>
        
        <div class="customers-filters">
          ${this.renderFilters(customersData.filters)}
        </div>
        
        <div class="customers-list">
          ${customersData.customers.map(customer => this.renderCustomer(customer)).join('')}
        </div>
        
        <div class="customers-pagination">
          ${this.renderPagination(customersData.pagination)}
        </div>
      </div>
    `;
  }
  
  renderCustomer(customer) {
    const riskColor = this.getRiskColor(customer.risk_score);
    const statusColor = this.getStatusColor(customer.status);
    const kycColor = this.getKYCColor(customer.kyc_status);
    
    return `
      <div class="customer-card" data-customer-id="${customer.id}">
        <div class="customer-header">
          <div class="customer-info">
            <h4 class="customer-name">${customer.first_name} ${customer.last_name}</h4>
            <span class="customer-email">${customer.email}</span>
          </div>
          <div class="customer-status">
            <span class="status-badge ${statusColor}">${customer.status}</span>
            <span class="kyc-badge ${kycColor}">${customer.kyc_status}</span>
          </div>
        </div>
        
        <div class="customer-details">
          <div class="detail-row">
            <label>Customer ID:</label>
            <span class="customer-id">${customer.id}</span>
          </div>
          <div class="detail-row">
            <label>Phone:</label>
            <span>${customer.phone_number}</span>
          </div>
          <div class="detail-row">
            <label>Country:</label>
            <span>${customer.country}</span>
          </div>
          <div class="detail-row">
            <label>Document:</label>
            <span>${customer.document_type} - ${customer.document_number}</span>
          </div>
          <div class="detail-row">
            <label>Occupation:</label>
            <span>${customer.occupation || 'N/A'}</span>
          </div>
          <div class="detail-row">
            <label>Annual Income:</label>
            <span>$${customer.annual_income ? customer.annual_income.toLocaleString() : 'N/A'}</span>
          </div>
          <div class="detail-row">
            <label>Risk Score:</label>
            <span class="risk-score ${riskColor}">${customer.risk_score}/100</span>
          </div>
        </div>
        
        <div class="customer-actions">
          <button class="btn btn-primary" onclick="viewCustomer('${customer.id}')">
            View Details
          </button>
          <button class="btn btn-secondary" onclick="editCustomer('${customer.id}')">
            Edit
          </button>
          ${customer.kyc_status === 'pending' ? `
            <button class="btn btn-warning" onclick="verifyCustomer('${customer.id}')">
              Verify
            </button>
          ` : ''}
        </div>
        
        <div class="customer-meta">
          <span class="created-date">Created: ${new Date(customer.created_at).toLocaleDateString()}</span>
          <span class="updated-date">Updated: ${new Date(customer.updated_at).toLocaleDateString()}</span>
        </div>
      </div>
    `;
  }
  
  renderFilters(filters) {
    return `
      <div class="filters-container">
        <div class="applied-filters">
          <h4>Applied Filters:</h4>
          <div class="filter-tags">
            ${filters.applied.map(filter => `
              <span class="filter-tag">
                ${filter}
                <button onclick="removeFilter('${filter}')" class="remove-filter">Ã—</button>
              </span>
            `).join('')}
          </div>
        </div>
        
        <div class="available-filters">
          <h4>Available Filters:</h4>
          <div class="filter-options">
            <select id="status-filter" onchange="applyFilter('status', this.value)">
              <option value="">All Statuses</option>
              ${filters.available.statuses.map(status => `
                <option value="${status}">${status}</option>
              `).join('')}
            </select>
            
            <select id="kyc-status-filter" onchange="applyFilter('kyc_status', this.value)">
              <option value="">All KYC Statuses</option>
              ${filters.available.kyc_statuses.map(status => `
                <option value="${status}">${status}</option>
              `).join('')}
            </select>
            
            <select id="country-filter" onchange="applyFilter('country', this.value)">
              <option value="">All Countries</option>
              ${filters.available.countries.map(country => `
                <option value="${country}">${country}</option>
              `).join('')}
            </select>
            
            <select id="document-type-filter" onchange="applyFilter('document_type', this.value)">
              <option value="">All Document Types</option>
              ${filters.available.document_types.map(type => `
                <option value="${type}">${type}</option>
              `).join('')}
            </select>
          </div>
        </div>
      </div>
    `;
  }
  
  renderPagination(pagination) {
    const currentPage = Math.floor(pagination.offset / pagination.limit) + 1;
    const totalPages = Math.ceil(pagination.total / pagination.limit);
    
    return `
      <div class="pagination-container">
        <div class="pagination-info">
          <span>Page ${currentPage} of ${totalPages}</span>
          <span>Showing ${pagination.offset + 1}-${Math.min(pagination.offset + pagination.limit, pagination.total)} of ${pagination.total}</span>
        </div>
        
        <div class="pagination-controls">
          <button 
            class="btn btn-secondary" 
            onclick="goToPreviousPage()" 
            ${pagination.offset === 0 ? 'disabled' : ''}
          >
            Previous
          </button>
          
          <button 
            class="btn btn-secondary" 
            onclick="goToNextPage()" 
            ${!pagination.has_more ? 'disabled' : ''}
          >
            Next
          </button>
        </div>
      </div>
    `;
  }
  
  getRiskColor(riskScore) {
    if (riskScore <= 25) return 'low-risk';
    if (riskScore <= 50) return 'medium-risk';
    if (riskScore <= 75) return 'high-risk';
    return 'very-high-risk';
  }
  
  getStatusColor(status) {
    const colors = {
      'active': 'success',
      'inactive': 'warning',
      'suspended': 'error',
      'pending': 'info'
    };
    return colors[status] || 'default';
  }
  
  getKYCColor(kycStatus) {
    const colors = {
      'pending': 'warning',
      'basic': 'info',
      'enhanced': 'success',
      'rejected': 'error'
    };
    return colors[kycStatus] || 'default';
  }
  
  generateCustomerReport(customersData) {
    const report = {
      total_customers: customersData.pagination.total,
      customers: customersData.customers,
      generated_at: new Date().toISOString(),
      summary: this.generateCustomerSummary(customersData.customers)
    };
    
    return report;
  }
  
  generateCustomerSummary(customers) {
    const summary = {
      total_customers: customers.length,
      by_status: {},
      by_kyc_status: {},
      by_country: {},
      by_document_type: {},
      average_risk_score: 0,
      total_annual_income: 0
    };
    
    customers.forEach(customer => {
      // Count by status
      summary.by_status[customer.status] = (summary.by_status[customer.status] || 0) + 1;
      
      // Count by KYC status
      summary.by_kyc_status[customer.kyc_status] = (summary.by_kyc_status[customer.kyc_status] || 0) + 1;
      
      // Count by country
      summary.by_country[customer.country] = (summary.by_country[customer.country] || 0) + 1;
      
      // Count by document type
      summary.by_document_type[customer.document_type] = (summary.by_document_type[customer.document_type] || 0) + 1;
      
      // Calculate averages
      summary.average_risk_score += customer.risk_score;
      summary.total_annual_income += customer.annual_income || 0;
    });
    
    summary.average_risk_score = summary.average_risk_score / customers.length;
    
    return summary;
  }
}

// Usage
const customerListManager = new CustomerListManager(apiClient);

// Load initial customers
document.addEventListener('DOMContentLoaded', async () => {
  try {
    const customersData = await customerListManager.getCustomers();
    customerListManager.displayCustomers(customersData);
  } catch (error) {
    console.error('Failed to load customers:', error);
  }
});

// Search customers
document.getElementById('search-customers').addEventListener('input', async (e) => {
  const searchTerm = e.target.value;
  
  if (searchTerm.length >= 3) {
    try {
      const customersData = await customerListManager.searchCustomers(searchTerm);
      customerListManager.displayCustomers(customersData);
    } catch (error) {
      console.error('Failed to search customers:', error);
    }
  }
});

// Apply filters
function applyFilter(filterType, value) {
  const filters = { [filterType]: value };
  
  customerListManager.getCustomers(filters).then(customersData => {
    customerListManager.displayCustomers(customersData);
  }).catch(error => {
    console.error('Failed to apply filter:', error);
  });
}

// Pagination
function goToNextPage() {
  customerListManager.getNextPage().then(customersData => {
    customerListManager.displayCustomers(customersData);
  }).catch(error => {
    console.error('Failed to go to next page:', error);
  });
}

function goToPreviousPage() {
  customerListManager.getPreviousPage().then(customersData => {
    customerListManager.displayCustomers(customersData);
  }).catch(error => {
    console.error('Failed to go to previous page:', error);
  });
}

// Customer actions
function viewCustomer(customerId) {
  window.location.href = `/customers/${customerId}`;
}

function editCustomer(customerId) {
  window.location.href = `/customers/${customerId}/edit`;
}

function verifyCustomer(customerId) {
  window.location.href = `/customers/${customerId}/verify`;
}

// Generate report
document.getElementById('generate-report').addEventListener('click', async () => {
  try {
    const customersData = await customerListManager.getCustomers({ limit: 1000 });
    const report = customerListManager.generateCustomerReport(customersData);
    
    // Download report as JSON
    const blob = new Blob([JSON.stringify(report, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `customers-report-${new Date().toISOString().split('T')[0]}.json`;
    a.click();
  } catch (error) {
    console.error('Failed to generate report:', error);
  }
});
```

</CodeGroup>

## Related Endpoints

<CardGroup cols={2}>
  <Card
    title="Create Customer"
    icon="plus"
    href="/api/customers/create"
  >
    Create a new customer
  </Card>
  <Card
    title="Get Customer"
    icon="eye"
    href="/api/customers/get"
  >
    Get customer details
  </Card>
  <Card
    title="Customer Verification Tasks"
    icon="tasks"
    href="/api/customers/verification-tasks"
  >
    Get customer verification tasks
  </Card>
  <Card
    title="Customers Guide"
    icon="book"
    href="/guides/customers"
  >
    Complete customers guide
  </Card>
</CardGroup>
